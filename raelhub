--[[
    Rael Utility Script v3 - Integrado com Rael Hub
    Comandos:
      /killall, /freeze, /unfreeze, /noclip, /unnoclip, /clip, /reset, /player [nome]
--]]

-- Carrega o Rael Hub
loadstring(game:HttpGet("https://raw.githubusercontent.com/Laelmano24/Rael-Hub/main/main.txt"))()

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")

local frozen = false
local noclip = false
local targetPlayer = nil

-- KillAll loop
spawn(function()
    while true do
        if _G.KillAllActive then
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                LocalPlayer.Character.Humanoid.Health = 0
            end
            break
        end
        wait(1)
    end
end)

-- Noclip loop
RunService.Stepped:Connect(function()
    if noclip and LocalPlayer.Character then
        for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
end)

-- Chat command handler
LocalPlayer.Chatted:Connect(function(msg)
    msg = msg:lower()

    if msg == "/killall" then
        _G.KillAllActive = true

    elseif msg == "/freeze" then
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            LocalPlayer.Character.HumanoidRootPart.Anchored = true
            frozen = true
        end

    elseif msg == "/unfreeze" then
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            LocalPlayer.Character.HumanoidRootPart.Anchored = false
            frozen = false
        end

    elseif msg == "/noclip" then
        noclip = true

    elseif msg == "/clip" or msg == "/unnoclip" then
        noclip = false

    elseif msg == "/reset" then
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
            LocalPlayer.Character.Humanoid.Health = 0
        end

    elseif msg:match("^/player ") then
        local name = msg:split(" ")[2]
        for _, plr in pairs(Players:GetPlayers()) do
            if plr.Name:lower():sub(1, #name) == name then
                targetPlayer = plr
                warn("Alvo definido:", targetPlayer.Name)
                break
            end
        end
    end
end)
